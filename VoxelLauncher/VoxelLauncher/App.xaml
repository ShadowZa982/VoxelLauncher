<?xml version="1.0" encoding="utf-8"?>
<Application
    x:Class="VoxelLauncher.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="using:VoxelLauncher.Converters"
    xmlns:local="using:VoxelLauncher">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <XamlControlsResources xmlns="using:Microsoft.UI.Xaml.Controls" />
                <ResourceDictionary>
                    <converters:OnlineStatusColorConverter x:Key="OnlineStatusColorConverter"/>
                    <converters:LastUpdatedConverter x:Key="LastUpdatedConverter"/>
                    <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
                    <converters:StringFormatConverter x:Key="StringFormatConverter"/>
                    <converters:DateTimeConverter x:Key="DateTimeConverter"/>
                    <ThemeShadow x:Key="CardShadow"/>
                    <x:Double x:Key="CardElevation">16</x:Double>
                    <converters:BoolToInstalledTextConverter x:Key="BoolToInstalledTextConverter"/>
                    <converters:ProgressToWidthConverter x:Key="ProgressToWidthConverter"/>
                    <converters:StatusColorConverter x:Key="StatusColorConverter"/>
                    <converters:ImageSourceConverter x:Key="ImageSourceConverter"/>
                    <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
                    <converters:NullToVisibilityConverter x:Key="NullToVisibilityConverter"/>
                    <converters:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
                    <converters:IntToVisibilityConverter x:Key="IntToVisibilityConverter"/>
                    <converters:DoubleToVisibilityConverter x:Key="DoubleToVisibilityConverter"/>
                    <converters:DoubleToPercentConverter x:Key="DoubleToPercentConverter"/>
                    <converters:DateTimeToStringConverter x:Key="DateTimeToStringConverter"/>
                </ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>
            
            <Style x:Key="GreenProgressBarStyle" TargetType="ProgressBar">
                <Setter Property="Height" Value="6"/>
                <Setter Property="Foreground" Value="#22C55E"/>
                <Setter Property="Background" Value="#334155"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ProgressBar">
                            <Grid x:Name="TemplateRoot" Background="{TemplateBinding Background}">
                                <Rectangle x:Name="ProgressBarTrack" Fill="{TemplateBinding Background}" />
                                <Rectangle x:Name="ProgressBarIndicator"
                               Fill="{TemplateBinding Foreground}"
                               HorizontalAlignment="Left"
                               Height="{TemplateBinding Height}">
                                    <Rectangle.RenderTransform>
                                        <ScaleTransform x:Name="ProgressBarScale" ScaleX="0"/>
                                    </Rectangle.RenderTransform>
                                </Rectangle>
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CommonStates">
                                        <VisualState x:Name="Determinate">
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="ProgressBarScale"
                                                     Storyboard.TargetProperty="ScaleX"
                                                     To="{Binding Value, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource ProgressToScaleConverter}}"
                                                     Duration="0:0:0.2">
                                                    <DoubleAnimation.EasingFunction>
                                                        <CubicEase EasingMode="EaseOut"/>
                                                    </DoubleAnimation.EasingFunction>
                                                </DoubleAnimation>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="Indeterminate">
                                            <Storyboard RepeatBehavior="Forever">
                                                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ProgressBarScale"
                                                                   Storyboard.TargetProperty="ScaleX">
                                                    <EasingDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                                                    <EasingDoubleKeyFrame KeyTime="0:0:1.5" Value="1">
                                                        <EasingDoubleKeyFrame.EasingFunction>
                                                            <CubicEase EasingMode="EaseOut"/>
                                                        </EasingDoubleKeyFrame.EasingFunction>
                                                    </EasingDoubleKeyFrame>
                                                    <EasingDoubleKeyFrame KeyTime="0:0:3" Value="1"/>
                                                </DoubleAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="ProgressBarIndicator"
                                                     Storyboard.TargetProperty="Opacity"
                                                     From="0.6" To="1" Duration="0:0:0.8"
                                                     RepeatBehavior="Forever"/>
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="TabButtonStyle" TargetType="Button">
                <Setter Property="Background" Value="Transparent"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Padding" Value="16,8"/>
                <Setter Property="CornerRadius" Value="8"/>
            </Style>

            <Style x:Key="DeleteButtonStyle" TargetType="Button">
                <Setter Property="Background" Value="#FF3A3A3A"/>
                <Setter Property="Foreground" Value="#EF4444"/>
                <Setter Property="Width" Value="36"/>
                <Setter Property="Height" Value="36"/>
            </Style>

            <CompositeTransform x:Key="SlideTransform" TranslateX="420"/>
            
        </ResourceDictionary>
    </Application.Resources>
</Application>
